"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[149],{368:function(e,r,t){t(791);var n=t(87),a=t(689),c=t(184);r.Z=function(e){var r=e.movies,t=(0,a.TH)();return(0,c.jsx)("div",{children:(0,c.jsx)("ul",{children:r.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(n.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.title})},e.id)}))})})}},149:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(439),a=t(791),c=t(861),u=t(757),i=t.n(u),o=t(184),s=function(e){var r=e.setSearchParams,t=(0,a.useState)(""),u=(0,n.Z)(t,2),s=u[0],h=u[1],f=function(){var e=(0,c.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.currentTarget.elements.searchValue.value;try{r({query:n.trim()})}catch(a){console.error(a)}case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Search Movie"}),(0,o.jsxs)("form",{onSubmit:f,children:[(0,o.jsx)("input",{type:"text",name:"searchValue",value:s,onChange:function(e){return h(e.target.value)},required:!0,placeholder:"Input movie name"}),(0,o.jsx)("button",{type:"submit",children:"Search"})]})]})},h=t(87),f=t(335),l=t(368),p=t(510),m=t(686),d=t.n(m),v=function(){var e=(0,a.useState)([]),r=(0,n.Z)(e,2),t=r[0],c=r[1],u=(0,a.useState)(!1),i=(0,n.Z)(u,2),m=i[0],v=i[1],j=(0,h.lr)(),Z=(0,n.Z)(j,2),x=Z[0],y=Z[1],N=x.get("query"),I="search/movie?query=".concat(N);return(0,a.useEffect)((function(){N&&(v(!0),(0,f.r)(I).then((function(e){return 0!==e.results.length?c(e.results):d().Notify.failure("Sorry, error")})).catch((function(e){e&&d().Notify.failure("Sorry, ".concat(e))})).finally(v(!1)))}),[I,N]),(0,o.jsxs)("div",{children:[(0,o.jsx)(s,{setSearchParams:y}),(0,o.jsx)(l.Z,{movies:t}),m&&(0,o.jsx)(p.a,{})]})}},335:function(e,r,t){t.d(r,{r:function(){return i}});var n=t(861),a=t(757),c=t.n(a),u="https://api.themoviedb.org/3/";function i(e){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYThhZDc3MjZkZTQ5ZTE4NmNkY2Q0ZDI5NDNmYmE4ZiIsInN1YiI6IjY1NDZhNmJhNWMwNzFiMDEwOTg2ZjRiZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0-nbdYbpGetqHXvI-1FB0LVLeN8C_gUHTEMH1uJZEQY"}},e.next=3,fetch("".concat(u).concat(r),t).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=149.ecf83371.chunk.js.map